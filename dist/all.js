const articleButton=document.querySelector(".article__button"),closeButton=document.querySelector("#popup-close-button"),overlay=document.querySelector(".overlay"),counterSpan=document.querySelector("#counter"),resetCounterButton=document.querySelector("#reset-counter-button"),getItemFromLS=e=>{if(window.localStorage)return localStorage.getItem(e);throw Error("Localstorage is not supported")},setItemInLS=(e,t)=>{if(!window.localStorage)throw Error("Localstorage is not supported");localStorage.setItem(e,t)},showPopup=()=>{resetCounterButton.style.visibility="hidden",resetCounterButton.innerHTML="Reset counter",overlay.style.display="block";var e=getItemFromLS("popup-rendering-counter");e?(e=JSON.parse(e).counter,setItemInLS("popup-rendering-counter",JSON.stringify({counter:++e})),counterSpan.innerHTML=e+" times",5<e&&(resetCounterButton.style.visibility="visible")):(setItemInLS("popup-rendering-counter",JSON.stringify({counter:1})),counterSpan.innerHTML="1 time")},handleClickCloseButton=()=>{overlay.style.display="none"},resetCounter=()=>{setItemInLS("popup-rendering-counter",JSON.stringify({counter:0})),resetCounterButton.innerHTML="Counter reseted"};articleButton.addEventListener("click",showPopup),closeButton.addEventListener("click",handleClickCloseButton),resetCounterButton.addEventListener("click",resetCounter);